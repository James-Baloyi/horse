{"version":3,"sources":["fbConfig.js","Components/CurrentDelivery.js","Components/Cancel.js","Components/Login.js","headerlogo.png","Components/Home.js","Components/InnerList.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","CurrentDelivery","state","deliveryData","driverId","JSON","parse","localStorage","getItem","this","setState","uid","date","data","delivery","database","ref","push","childKey","key","parentKey","once","array","val","index","indexOf","newArray","splice","update","deleteFromNewReq","length","window","location","href","remove","deleteChildKey","document","getElementsByClassName","value","pu_pin","today","Date","saveToComplete","className","style","marginTop","position","transform","width","booking_name","color","deliveryId","border","height","backgroundColor","do_location","type","placeholder","onClick","goToCancel","confirmPin","React","Component","Cancel","reason","currentDelivery","url","xhr","XMLHttpRequest","open","send","res","responseText","then","getElementsByTagName","innerText","removeItem","onChange","event","target","cancelDelivery","Login","email","password","auth","signInWithEmailAndPassword","user","currentUser","console","log","setItem","stringify","reload","catch","error","alert","id","verifyLogin","Home","requests","getRequestBuckets","requestsArray","on","thisRequest","clear","signOut","childKeys","undefined","requestData","map","request","openPackage","reqKeys","paddingLeft","distance","src","Logo","logOut","InnerList","deliveryArray","jsonKeys","loadDeliveries","receivedData","tripId","button","noRefresh","display","target_id","getAttribute","getElementById","deliveries","deliveryCount","startingPoint","classList","add","mobile","cellphone","pin","sendMessage","body","sms","replace","cors","setRequestHeader","onreadystatechange","readyState","trip","dropoff","do_coords","lat","lng","navigator","platform","saveData","innerDeliveries","thisDelivery","openMap","saveThenNav","booking_ref","cancel","sendSMSs","openP54Map","App","path","exact","component","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4068c69d.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDmxvEat9bQme3dRK5_Z79-tLWYrptYb6A\",\r\n    authDomain: \"zipi-app.firebaseapp.com\",\r\n    databaseURL: \"https://zipi-app.firebaseio.com\",\r\n    projectId: \"zipi-app\",\r\n    storageBucket: \"zipi-app.appspot.com\",\r\n    messagingSenderId: \"1060972970372\",\r\n    appId: \"1:1060972970372:web:787f7055d0de929a92ddd1\",\r\n    measurementId: \"G-NGXNY0KN8X\"\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n  export default firebase;","import React from \"react\";\r\nimport firebase from \"../fbConfig.js\";\r\n\r\nexport default class CurrentDelivery extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            deliveryData: {},\r\n            driverId: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        var deliveryData = JSON.parse(localStorage.getItem(\"activeDelivery\"));\r\n        this.setState({deliveryData});\r\n        var driverId = JSON.parse(localStorage.getItem(\"currentUser\")).uid;\r\n        this.setState({driverId: driverId});\r\n    }\r\n\r\n    saveToComplete(date){\r\n        var data = {\r\n            date: date,\r\n            delivery: this.state.deliveryData,\r\n            driverId: this.state.driverId\r\n        }\r\n        firebase.database().ref(\"API_complete/\"+this.state.driverId).push({data})\r\n    }\r\n\r\n    deleteChildKey(){\r\n        var childKey = this.state.deliveryData.key;\r\n        var parentKey = localStorage.getItem(\"parentKey\");\r\n        firebase.database().ref(\"apiReq/\"+parentKey+\"/reqKeys\").once(\"value\", data => {\r\n            var array = data.val();\r\n            var index = array.indexOf(childKey);\r\n            var newArray = array.splice(1,index);\r\n            firebase.database().ref(\"apiReq/\"+parentKey+\"/reqKeys\").update(newArray);\r\n            this.deleteFromNewReq(childKey);\r\n            if(newArray.length < 1){\r\n                window.location.href = \"innerlist\";\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteFromNewReq(key){\r\n        firebase.database().ref(\"newReq/\"+key).remove();\r\n    }\r\n\r\n    confirmPin(){\r\n        this.deleteChildKey()\r\n        var userPin = document.getElementsByClassName(\"releaseInput\")[0].value;\r\n        var actualPin = this.state.deliveryData.pu_pin;\r\n        if(userPin == actualPin){\r\n           var today = new Date();\r\n           this.saveToComplete(today);\r\n           this.deleteChildKey();\r\n        }\r\n    }\r\n\r\n    goToCancel(){\r\n        window.location.href = \"cancel\";\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"currentDelivery\">\r\n            <h4 style={{marginTop: -40, position: \"absolute\", transform: \"translate(100%)\"}}>Current Trip</h4>\r\n            <div className=\"cdTopArea\">\r\n            <table style={{width: \"100%\"}}>\r\n            <tr>\r\n            <td>\r\n            <b>{this.state.deliveryData.booking_name}</b><br/><small style={{color: \"grey\"}}>{this.state.deliveryId}</small>\r\n            </td>\r\n            </tr>\r\n            </table>\r\n            <hr style={{border: 0, height: 1, backgroundColor: \"silver\"}}/>\r\n            <div className=\"deliveryInfo\">\r\n            <small>Drop Off</small>\r\n            <div className=\"dropOff\"><br/>\r\n            <b>{this.state.deliveryData.do_location}</b>\r\n            <br/>\r\n            </div>\r\n            <div className=\"pinArea\">\r\n            <b>Insert RELEASE PIN that you will receive from the customer</b>\r\n            <br/>\r\n            <input type=\"number\" placeholder=\"Release PIN\" className=\"releaseInput\"/>\r\n            </div>\r\n            </div>\r\n            <button className=\"cancelLoad\" onClick={()=>{this.goToCancel()}}>Cancel Load</button>\r\n            <button className=\"verifyPin\" onClick={()=>{this.confirmPin()}}>Verify PIN</button>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport firebase from \"../fbConfig.js\";\r\n\r\nexport default class Cancel extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            reason: \"Customer Unavailable\"\r\n        }\r\n    }\r\n\r\n    cancelDelivery(){\r\n        var parentKey = localStorage.getItem(\"parentKey\");\r\n        var childKey = JSON.parse(localStorage.getItem(\"activeDelivery\")).key;\r\n        var currentDelivery = JSON.parse(localStorage.getItem(\"activeDelivery\"));\r\n        \r\n            var url = `https://us-central1-zipi-app.cloudfunctions.net/cancelRequest?childKey=${childKey}&parentKey=${parentKey}`;\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"GET\", url, false);\r\n            xhr.send();\r\n            var res = xhr.responseText;\r\n            var date = new Date();\r\n            if(res == \"success\"){\r\n                firebase.database().ref(\"API_cancelled\").push({\r\n                    parentKey: parentKey,\r\n                    delivery: currentDelivery,\r\n                    date: date,\r\n                    reason: this.state.reason\r\n                }).then(()=>{\r\n                    document.getElementsByTagName(\"small\")[0].innerText = \"Successfully Cancelled\";\r\n                    localStorage.removeItem(\"parentKey\");\r\n                    localStorage.removeItem(\"childKeys\");\r\n                    localStorage.removeItem(\"activeDelivery\");\r\n                    window.location.href = \"innerlist\";\r\n                })\r\n            }else{\r\n                document.getElementsByTagName(\"small\")[0].innerText = res + \". Contact support with a screenshot of this error.\"\r\n            }   \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <center>\r\n                <h2>Cancel Delivery<br/>\r\n                <br/><small>Please make sure that you've tried to reach the customer to a reasonable degree.</small>\r\n                </h2><br/>\r\n                <select className=\"cancelDropdown\" onChange={(event)=>{this.setState({reason: event.target.value})}}>\r\n                    <option value=\"Customer Unavailable\">Customer Unavailable</option>\r\n                    <option value=\"Driver Error\">Traffic Problem</option>\r\n                    <option value=\"Customer Unreachable\">Can't Reach Customer</option>\r\n                </select>\r\n                <br/><br/>\r\n                <button className=\"send\" onClick={()=>{this.cancelDelivery()}}>Cancel Delivery</button>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport '../App.css';\r\n//import Logo from \"./logo.png\";\r\nimport firebase from \"../fbConfig\";\r\n\r\nexport default class Login extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    verifyLogin(){\r\n        firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((res)=> { \r\n        var user = firebase.auth().currentUser;\r\n        console.log(user);\r\n        localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n        window.location.reload();\r\n    }).catch(error => {\r\n        alert(error);\r\n    })\r\n    }\r\n\r\n    componentDidMount(){\r\n        var user = localStorage.getItem(\"currentUser\");\r\n        if(user){\r\n            window.location.href = \"/home\";\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className=\"login showing\">\r\n            <center>\r\n                <br/>\r\n    \r\n                <div className=\"login-panel\">\r\n                    <b>Login</b>\r\n                    <br/>\r\n    \r\n                    <input type=\"email\" id=\"email\" onChange={(event)=>{this.setState({email:event.target.value})}} placeholder=\"Email\"/><br/>\r\n                    <input type=\"password\" id=\"password\" onChange={(event)=>{this.setState({password:event.target.value})}} placeholder=\"Password\"/><br/>\r\n                    <button className=\"button\" onClick={()=>{this.verifyLogin()}}>Login</button>\r\n    \r\n                </div>\r\n            </center>\r\n          </div>\r\n        );\r\n    }\r\n\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKwAAAAiCAYAAADCizJwAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAArKADAAQAAAABAAAAIgAAAADaGrAQAAAM1UlEQVR4Ae2ZCbSVVRmGw0CUHEAQkEE0QRHJBZpIkgtygsqATHFM1NQ0G5amlFqKOa2VQ5pDzuZArhVazpmgB0vMEZEQEdRrBKY4MIiIaNbz3M5Hm59zzj3n3nO56DrvWs/d8/Dv/9vf3v+5rT5TXa1Hd5+F1tAGTKt/wwr40ESiKDfrP3mS4lXRVsQklK3bjoKO0AM6gXN4B+bDm7AMbNOQnPNuMB4GQVt4Fx6Cs+B5+BhqaqEVSI2gMVPQMDeDLaAn9IZuYF572BDUcpgL98Nj4EsfCf3BOWhMc+B2KKR9ydwRoq59WTcMbAzxL4EGq/Fa731YCNNgIjwAbppicvPsB5eCz5OujfObCsfDTKjpE7QCGuFAOBHugBdgMWggK+Ej0KNqlCnm6+1GwQag4epxzTf8GxTTgxSkdZ8l3RXOB8eO8cLzpqFleslbQEMsJjfaI+Cc0/YRd56XQU3r6ArocTaGrWEY6F2uh+mwBDSEeJmVhFNo1xOezrQ3XUw5CtIxXiZ9Hei5I9/5LIXXwKvAItDIotz43bAVFNJQMt1QUb9Q6Lg1teAKeKSn8hjsAP1hdxgA24Depz2sD9ZpSL5sPaJG5Bge3aHNibgRmqIeND4MvGM6lh70njz/JHRcPfBX4GBwTO+1I+BCOBa846bqTMLrRCl51ampBVcgjGlT5tAPRsNw6AOpkZFcTRqJ8vjUML0OvA6vwCx4EfRyveCnsDUo2+kBF5togtw4yv7egnEwAZxLqrtIeG25GvqCz+Q91Y+ncyCt/14mTXIN+Zw1tfAKXMn4M8Av6WL3Nw3Dsg/gDXgSboWfw/7gB1EnCEPqQtw77kugt7O9eEwfAN6DvQJEvqHpYspRkNY17nwWgOOX2lxebYbBXIjnc16DIFVvEtMhO06kfY7b0wa1eMusgF/R8SLj5aShXmU2+NFyDPiivSJsBB6zqbwuDAQ9mx4r7ddj+1TQqP3oaqrBOi83RXYOZK0hjXZfcMP4bCvhLEjlvE6BjyB9/ojPI38PqKmFV8AXp/fQuHyR3u1mgT8FnQSDwftrKWmoW8KZ4IdLaqjGvS5oDHpWVQ2DfYZ+etT3Vt4f77u/g/D4to8TIXrwDuummgNuOE+UpfAcjIHWUFMLr8BQxn8BJsN4GAnbgh60HPkBdQhMAb1eeCRDvZXXB/sMYyVaFYO9mH4qNaBDaRNz1BB3gKzscyf4DujBD4beUI4np1pNzb0C3v+6gMdmpfJLfALoiVJDNe4Hza3QE7Kqhof9VrbTMtIDqPMWOD89/2FQSHreTcCPUcOasbII64L0JhqWH1KVyKNYgzke+kBq7PbncXs53AkerdWWx/pLjeh0IW2WQ0fwGtMXCukyMv21xDoa9rVwHtTUwiugwVYivfEw+AnsCum1Qa+lQVwDt8DL4MtuDnnX1vAqlZspbdehSAduwl5JWb8kXizqlUcDD3nquLEqVTsaeG1R9mnctW1p6ZQ8GRv7XFWZf+oZS3Xoi9gCzgQ/xvaEMFYXcwU8Cv7EdAbMheYyVrqu/xnLY7tSebT78RVy3oWUGp7l2XShNrPIfBe8G4sbw4+146Bc+XHribQ9dMnHtyVcFzSOSTi3U9byZD7PeAdVMqY7fgw8Ar5gDVEjFT+qpoMfJ92gXFXjDrtPuYMl9bwCeAo4d5/jB1BIOTLjGQ29pzekOiq4WUMa3yiYDxdGZgOhbRxPj+7m2g4aszFpVnXNpscn4Pmq91y6w4Mpdg3Lkr8A/BL8UEkN1UV1t90IegAXtxJVw2BPq2TAfN2vES4D5++1YggUUo5M6wSNMdjo9wgijtU9n6GHvwjmwDQ4GUKpwW5G5mTwe+E6OB1SmbYfVapPT8LHwCvcH8E2pntByDHMc0MX0mAyl4AbSDvwV5RUnUncBhr1tTASroCQz+7JPA8ehq9DSM+tw9NzvwAz4ShQnuSuk9cQ5xenOtHV5VVhEEyCDyFenJN18R+Hg6DSOzBN6lUNg/0TPfmCy5Wb6nz4CHyeV0CjKKQcmfHMhk0x2K75vtws6g7wxY4F1/BfcA6o1GCjnUZyOuhl4mpi+BocA6qcPuuodw8MgTfghxA6gcgC8L0X0tVkXp8vmEr4q6SSbWbAFDgQboalEJ64HfF58CB8A9ygK2A4qKtgEdwNrtG94N2/O3SDC0CHuS8UtDcnMBpmgQ3jxWmsPtSZ0Aus11hVw2B9iK9WMIE+1HW3+hw+1w1QTDkK4rkNJxSrmOTXET8jSUfUdXKTHAUDwf70dqFDiLwNvoxiBrsNZbbbGdRuoNfpAOX2eR51Q3q/hyJBOAkuTdJpdEMSi2FoPvP7hK9DnKp6U+/u6ebXmWg/6kTQINuayOsaQg1UabBzIfoz1KBHgFrtSpC1WNNWuBw2AeVC+YLdMSfBFPClt7RcoPEwDfQYpaQh+EJ6g97JBbwL1obWZxBfgpvlixDeZR/iqhP4LF1hGRTSy2Q+CaPgGdgP7gefY38op8/0eX9Pm8kQG0RjHA+FNJrMNuC1wc1lvAvsDQ/AjuCzvQMhN4MbVPnMGvg4E3n5rP0iQfgsaGPK0PfZ2URWGmgqJ3cuhLFathhuhkvgVVhXpOG5GHrK02AGuLmycqH1fBqIbayTg0dhbUhjcINPB4/jlbAphPS+F4P5pXQbhUeCz6LBhgFo7OX0qRcM/ZXIm+Bd0vXQoB6DQnLMJXBqUuiJ8G3QYH0WbSSVfYecn0bYPjII9ajTkvT7SbxkNDXYntQ8C3zBIXf8eLgR0gcm2aJykZXHrYbYDfSgHkXudBeoAwyGk2A3iCOnjvjZ4KI3txzzBNCDuJaOvTGcD15p1BYwCkynjoLkatIrXgTfhI5wL6jG9OkGmgiO61rat2FW2sSesCs8nRQeQdxrxUYwD44DbcnNpwb8L6j/6/y6w4+TvJ2Jp3aWFJUXXZ9qvwUfxIkbzocDQaOotrzPPAWOFZguphwFUc/QI8MrigsU+cbrYApMghdhBUS5z2T5XtCQclSIdoYTGmpAuX1fBb4MGQ5uoKWwPSi90ZtwCWicW8I9MBmUXsjxPC675uPbEYZyRHwvN0QGYSV9Js3qN7Fzk13SgiR+GvGXknRENyPyIYyFrcF1/gW4GV3f5TAL1BBw7Q8FN/AgmAs/A+Wa3VQf+/+ffxA9PJ8cTaiHb5dP1wc78dcd7mKJ3uB4aA3NISd+ATwOT+TDXxMWky8q5mY4E/aAB8CFS8sKxTVmjyA9imM3pBwV0n7KNdi0jcfsrbB7ZrC9SS8EDcV5/QW2AtWQwR5LHcfQ66Uqt8+0TSsS88CNX0xzKDi3SOEk8ifnyw4gfA18ntngu30GQicT8T3F6XcjcZ2kashgO1OnDjw13Zz1OpK/H0As+FTiqwrra1T/Txu63DAhHqDQSDkyY26GGqy72Z0+Dlx4d3FaJ+IukkdpV/AllaMclaK94YRyGlVQxxNGJ6EnrZYa06cO40dNnIDjbp7vI7zgKaRvyvSrPQ2GHpn8cpK+t05WDA+qsaQv090QZdarttajw+7wBfAOtwj+Du5oDa8caUgao7v5DzAMPIrdkfb/Nug9ND5Dn2ldkc5hWpUnU0mfbl6P5r6QNaxKp6UhzgWP8PvAK8z34GxI5bHuBmmMfNfeAFZpL2LvgQXyPuhVvGyX8nwUVyw3whjQS3osutDLYDYcDXrerDS6mJuhbb3wZ2Vbd/nnILsJs3VLpbPjVdvDlhp7bZRNZJDnwPthNTSWTmbAClgA46FZ5S7xPuI9IQxDT6dB3QkaWB/oABtAOfdAqhXUEHLrIMZJQx/4INBDpsqRSOsVM9i0TVPi2fE+bQbblLUp1TauBKXqNKlMb6d01yfCdeCxqkF6RfCeOBKGw0KoA4/tV2E+vAHmLwY9tAa3EjT8uFMSXWVsGuJ3YUszC6gteUfBw2C/NX2yVmB5c083DNZxvEMeDefBCIgyDVevqpH1hN1Bg/ROKB7pGqvHuoZvKOZZbt3n4DfQEYZC1oOStUr9iHWHmsGuWpJaJFYgjDLSGu2h4N3mcOgPHaANaLiBBmdeubqPihpsO/B+WUp62YbqlGpfK/sUr0DWYH1U7623wJ9Bb7cLDIEdoAtodKU8JMVryPoau78G+GWvpy2mdynwilFTbQXWWIFCBmslP3C8n4ofIKo9+OE1EHaGbaEbdAKN2K/yYoYcButmcCNsU6LuTMoWQCrnkyqbTsuqEc/2/3E1Oq310fQVKGawhXrW6z2Vx3INVEP1FwbZBLw++KFmvv8U8HiXVyGM4Friem1/B9TrhiyfB1dA1sNeSZ6/4VnferOhOS/46Xga64NQ06d8BdL7bup5/QVCg70TNEz/nedHmj+rfRkKbSL7sl2QGjrZVVd2vKoPUOuwcSvwX2sb7Hhn0vXcAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport firebase from \"../fbConfig\";\r\nimport \"../App.css\";\r\nimport Logo from \"../headerlogo.png\";\r\n\r\nexport default class Home extends React.Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            requests: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        var ls = localStorage.getItem(\"currentUser\");\r\n        if(!ls){\r\n            window.location.href = \"/login\";\r\n        }else{\r\n            this.getRequestBuckets();\r\n        }\r\n    }\r\n\r\n    getRequestBuckets(){\r\n        var requestsArray = [];\r\n        firebase.database().ref(\"apiReq/\").on(\"value\", data => {\r\n            var requests = data.val();\r\n            for(var key in requests){\r\n                var thisRequest = requests[key];\r\n                thisRequest.key = key;\r\n                requestsArray.push(thisRequest);\r\n                this.setState({requests: requestsArray});\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n\r\n    logOut(){\r\n        localStorage.clear();\r\n        if(firebase.auth().signOut()){\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    openPackage(parentKey, childKeys){\r\n        console.log(childKeys)\r\n        if(childKeys !== undefined){\r\n            localStorage.setItem(\"parentKey\", parentKey);\r\n            localStorage.setItem(\"childKeys\", JSON.stringify(childKeys));\r\n            window.location.href = \"/innerlist\";\r\n        }else{\r\n            alert(\"Can't find deliveries under this pack. Hiding it for now.\");\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        var requestData = this.state.requests.map((request)=>{\r\n            console.log(this.state.requests);\r\n            return (\r\n            <div className=\"packagePill\" onClick={()=>{this.openPackage(request.key, request.reqKeys)}}>\r\n            <table style={{width: \"100%\"}}>\r\n                <tr>\r\n                    <td style={{paddingLeft: 10}}>\r\n                        <b>{request.id}</b><br/><small style={{color: \"grey\"}}>{request.distance}</small>\r\n                    </td>\r\n                    <td>\r\n                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <button className=\"smallButton noBg\">Start Trip</button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        );\r\n        })\r\n\r\n        return(\r\n            <div className=\"groupedList\">\r\n            <div className=\"header\">\r\n                <img src={Logo}/>\r\n               <button className=\"smallButton noBg\" onClick={()=>{this.logOut()}}>Sign out</button><br/>\r\n               <br/>\r\n               <div className=\"mainDiv\">\r\n               <small>Bookings</small><br/>\r\n               \r\n               <div className=\"list\">\r\n                    {\r\n                        requestData\r\n                    }\r\n               </div>\r\n               <button className=\"refresh\" onClick={()=>{this.getRequestBuckets();}}>Refresh Packages</button>\r\n               </div>\r\n           </div>  \r\n       </div>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport firebase from \"../fbConfig.js\";\r\nimport Logo from \"../headerlogo.png\";\r\n\r\nexport default class InnerList extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            deliveryId: \"LOADING\",\r\n            deliveryArray: [],\r\n            parentKey: \"\",\r\n            childKeys: [],\r\n            deliveryData: {},\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        var childKeys = localStorage.getItem(\"childKeys\");\r\n        var jsonKeys = JSON.parse(childKeys);\r\n        this.setState({childKeys: jsonKeys});\r\n        \r\n        var parentKey = localStorage.getItem(\"parentKey\");\r\n        this.setState({parentKey: parentKey});\r\n        this.loadDeliveries(jsonKeys);\r\n        }\r\n\r\n    loadDeliveries(childKeys){\r\n        var deliveryArray = [];\r\n        console.log()\r\n        childKeys.map(key => {\r\n            firebase.database().ref(\"newReq/\"+key).on(\"value\", data => {\r\n                var receivedData = data.val();\r\n                receivedData.key = key;\r\n                deliveryArray.push(receivedData);\r\n                this.setState({deliveryArray: deliveryArray});\r\n                this.setState({deliveryId: receivedData.tripId});\r\n            });\r\n        })\r\n    }\r\n\r\n    cancel(button, childKey, parentKey, noRefresh){\r\n        var url = `https://us-central1-zipi-app.cloudfunctions.net/cancelRequest?childKey=${childKey}&parentKey=${parentKey}`;\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\", url, false);\r\n        xhr.send();\r\n        var res = xhr.responseText;\r\n        if(res == \"success\"){\r\n            button.style.display = \"none\";\r\n            var target_id = button.getAttribute(\"data\");\r\n            var target = document.getElementById(target_id);\r\n            target.style.display = \"none\";\r\n        }else{\r\n            alert(res + \". Contact support with a screenshot of this error.\");\r\n        }\r\n    }\r\n\r\n    sendSMSs(){\r\n        var deliveries = this.state.deliveryArray;\r\n        var deliveryCount = deliveries.length;\r\n        var startingPoint = 0;\r\n        deliveries.map(delivery => {\r\n            startingPoint++;\r\n            if(startingPoint >= deliveryCount){\r\n                document.getElementsByClassName(\"sendNotifs\")[0].classList.add(\"hidden\");\r\n            }\r\n            console.log(delivery)\r\n            var mobile = delivery.cellphone;\r\n            var pin = delivery.pu_pin;\r\n            this.sendMessage(mobile, pin);\r\n        })\r\n\r\n    }\r\n\r\n    sendMessage(cellphone, pin){\r\n        var body = `Thank you for using Zipi Delivery. Zipi PIN: ${pin}. Please present it to your driver.`;\r\n        var cors = 'https://cors-anywhere.herokuapp.com';\r\n        var sms = 'https://api.bulksms.com/v1/messages/send?to='+cellphone.replace(\"0\",\"27\")+'&body='+body;\r\n    \r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', cors+'/'+sms, true);\r\n        xhr.setRequestHeader('path', 'api.bulksms.com/v1/messages/send?');\r\n        xhr.setRequestHeader('Authority', 'api.bulksms.com');\r\n        xhr.setRequestHeader('scheme','https');\r\n        xhr.setRequestHeader('origin', 'https://zipi.co.za');\r\n        xhr.setRequestHeader('Access-Control-Allow-Origin', 'https://zipi.co.za');\r\n        xhr.setRequestHeader('Authorization', 'Basic emlwaW5vdzpaaXBpMTIzNDU=');\r\n        xhr.onreadystatechange = () => {\r\n        if(xhr.readyState == '4'){\r\n            console.log(\"Sent\", cellphone.replace(\"0\",\"27\"), body);\r\n        }\r\n        }\r\n        xhr.send();\r\n        }\r\n\r\n    openMap(trip){\r\n        var dropoff = trip.do_coords;\r\n        var lat = dropoff.lat;\r\n        var lng = dropoff.lng;\r\n        if((navigator.platform.indexOf(\"iPhone\") != -1) || \r\n            (navigator.platform.indexOf(\"iPad\") != -1) || \r\n            (navigator.platform.indexOf(\"iPod\") != -1))\r\n            window.open(`maps://maps.google.com/maps?daddr=${lat},${lng}&amp;ll=`, \"blank\");\r\n            window.open(`https://maps.google.com/maps?daddr=${lat},${lng}&amp;ll=`, \"blank\");\r\n        }\r\n\r\n    openP54Map(){\r\n        var lat = \"-29.79832313852812\";\r\n        var lng = \"31.011521516240354\";\r\n        if((navigator.platform.indexOf(\"iPhone\") != -1) || \r\n        (navigator.platform.indexOf(\"iPad\") != -1) || \r\n        (navigator.platform.indexOf(\"iPod\") != -1))\r\n       window.open(`maps://maps.google.com/maps?daddr=${lat},${lng}&amp;ll=`, \"blank\");\r\n       window.open(`https://maps.google.com/maps?daddr=${lat},${lng}&amp;ll=`, \"blank\");\r\n    }\r\n        \r\n\r\n    saveThenNav(){\r\n        var saveData = JSON.stringify(this.state.deliveryData);\r\n        console.log(saveData);\r\n        localStorage.setItem(\"activeDelivery\", saveData);\r\n        window.location.href = \"/current_delivery\"\r\n    }\r\n\r\n    render(){\r\n        var innerDeliveries = this.state.deliveryArray.map(thisDelivery => {\r\n                return <>\r\n                    <div className=\"deliveryPill\" onClick={()=>{this.openMap(thisDelivery);this.setState({deliveryData: thisDelivery}, ()=>{this.saveThenNav()})}} id={thisDelivery.key.replace(\"-\",\"\")} key={thisDelivery.key}>\r\n                        <table style={{width: \"100%\"}}>\r\n                            <tr>\r\n                                <td>\r\n                                    &nbsp; &nbsp;<b>{thisDelivery.booking_name}</b><br/><small style={{color: \"grey\"}}>&nbsp; &nbsp; {thisDelivery.booking_ref}</small>\r\n                                </td>\r\n                              \r\n                                <td>\r\n                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; \r\n                                </td>\r\n                        </tr>\r\n                </table>\r\n\r\n            </div>\r\n            <button className=\"redText nudgeUp\" data={thisDelivery.key.replace(\"-\",\"\")} onClick={(event)=>{this.cancel(event.target, thisDelivery.key, this.state.parentKey)}}>Remove</button>\r\n                <br/>\r\n                </>\r\n            });\r\n        \r\n\r\n        return(\r\n            <div className=\"destinationList\">\r\n            <div className=\"header\">\r\n                <img src={Logo}/>\r\n            </div>\r\n            <br/>\r\n            <center><br/>\r\n                <h2>Pack ID: {this.state.deliveryId}</h2>\r\n                <br/>\r\n                <div className=\"currentDeliveries\">\r\n                    {innerDeliveries}\r\n                </div>\r\n                \r\n                <div className=\"sendNotifs\">\r\n                    <button className=\"send\" onClick={()=>{this.sendSMSs(); this.openP54Map()}}>Start Deliveries</button>\r\n                </div>\r\n                \r\n                </center>\r\n            </div>   \r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router,Switch, Route, Link} from \"react-router-dom\";\r\nimport CurrentDelivery from \"./Components/CurrentDelivery\";\r\nimport Cancel from \"./Components/Cancel\";\r\nimport Login from \"./Components/Login\";\r\nimport Home from \"./Components/Home\";\r\nimport InnerList from \"./Components/InnerList\";\r\n\r\nexport default class App extends React.Component{\r\n  render(){\r\n  return (\r\n    <div>\r\n    <Router>\r\n        <Switch>\r\n\r\n          <Route path=\"/login\" exact component={Login}>\r\n          </Route>\r\n\r\n\r\n          <Route path=\"/\" exact component={Home}>\r\n          </Route>\r\n\r\n          <Route path=\"/home\" exact component={Home}>\r\n          </Route>\r\n\r\n          <Route path=\"/innerlist\" exact component={InnerList}>\r\n          </Route>\r\n\r\n          <Route path=\"/current_delivery\" exact component={CurrentDelivery}>\r\n          </Route>\r\n\r\n          <Route path=\"/cancel\" exact component={Cancel}>\r\n          </Route>\r\n\r\n        </Switch>\r\n    </Router>\r\n    </div>\r\n  );\r\n}\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}